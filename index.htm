<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <link rel ="stylesheet" type = "text/css" href= "./css/bootstrap.css">
    <link rel ="stylesheet" type = "text/css" href= "./css/styles.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script type="text/javascript"
      src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDB8hSxJc0O5AOlzvYVAle7ARvFENvFqbI&sensor=true">
    </script>
  </head>
  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class= "brand" href= "#">Device Manager</a>
          <ul class="nav">
            <li class="active">
              <a href="#">Home</a>
            </li>
            <li><a href="newSObj.php">Add Device</a></li>
            <li><a href="indoorcheck.php">Indoor Maps</a></li>
          </ul>
          <ul class = "nav pull-right"><a href = "logout.php"><li> Logout </a></li></ul>
        </div>
      </div>
    </div>
    <div class = "container">
      <div class = "span4" id = "sidebar">
        <ul class="nav nav-pills nav-stacked"></ul>
      </div>
      <div class = "span12">
        <div id="map_canvas" class = "map"></div>
      </div>
    </div>
    <script type = "text/javascript" src = "js/map.js"></script>
    <script type = "text/javascript" src = "js/device-api.js"></script>
    <script type="text/javascript">
      (function() {
        var $dl = $('#sidebar ul');

        DeviceAPI.getDevices(function(data) {
          $.each(data, function(i, device) {
            var md = DeviceMap.addDevice(device);

            var $item = $('<li><a> href="#"</a></li>').children(0);
            $item.html(device.name);
            $item.click(md.show);
            $dl.append($item.parent());
          });
        });
      })();
    </script>
  </body>
</html>
