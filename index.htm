<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <link rel ="stylesheet" type = "text/css" href= "./css/bootstrap.css">
    <link rel ="stylesheet" type = "text/css" href= "./css/styles.css">
    <script type="text/javascript" src="js/jquery-1.7.1.js"></script>
    <script type="text/javascript" src="js/bootstrap-tab.js"></script>
    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDB8hSxJc0O5AOlzvYVAle7ARvFENvFqbI&sensor=true"></script>
  </head>
  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class= "brand" href= "index.htm">Device Manager</a>
          <ul class="nav">
            <li class="active">
              <a href="index.htm">Home</a>
            </li>
            <li><a href="device.htm">Add Device</a></li>
            <li><a href="overlay.htm">Add Overlay</a></li>
            <li><a href="area.htm">Add Area</a></li>
          </ul>
          <div class="navbar-search pull-right" action="">
              <label class="checkbox">Overlays<input type="checkbox" checked></label>
              <label class="checkbox">Areas<input type="checkbox" id="show-areas" checked></label>
            <input type="text" class="search-query span2" id="overlay-opacity" placeholder="Overlay Opacity" value="100">
          </div>
        </div>
      </div>
    </div>
    <div>
      <div id="sidebar">
        <ul class="nav nav-tabs">
            <li class="active"><a href="#devices" data-toggle="tab">Devices</a></li>
            <li><a href="#overlays" data-toggle="tab">Overlays</a></li>
            <li><a href="#areas" data-toggle="tab">Areas</a></li>
        </ul>
        <div class="tab-content">
          <div id="devices" class="tab-pane active">
            <input type="text" placeholder="Search">
          </div>
          <div id="overlays" class="tab-pane">
              Overlays
          </div>
          <div id="areas" class="tab-pane">
              Areas
          </div>
        </div>
      </div>
      <div id="map-canvas"></div>
    </div>
    <script type = "text/javascript" src = "js/RotatedOverlay.js"></script>
    <script type = "text/javascript" src = "js/map.js"></script>
    <script type = "text/javascript" src = "js/device-api.js"></script>
    <script type = "text/javascript" src = "js/device-map.js"></script>
    <script type = "text/javascript" src = "js/overlay-map.js"></script>
    <script type = "text/javascript" src = "js/area-map.js"></script>
    <script type="text/javascript">
      (function() {
        Map.initializeMap("#map-canvas");
        DeviceMap.loadDevices();
        OverlayMap.loadOverlays();
        DeviceAPI.getAreas(AreaMap.drawAreas);

        $("#overlay-opacity").keyup(function() {
            console.log(this);
            OverlayMap.setOpacity($(this).val());
        });

        $("#show-areas").change(function() {
          if($(this).is(':checked')) {
            AreaMap.setMap(Map.objs.map);
          } else {
            AreaMap.setMap(null);
          }
        });
      })();
    </script>
  </body>
</html>
